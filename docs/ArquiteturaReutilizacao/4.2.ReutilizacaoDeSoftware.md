# 4.2. Módulo Reutilização de Software

<!-- SEGUNDA OPÇÃO DE ENTREGA: Reutilização de Software

Entrega Mínima: Exemplo de Reutilização, evidenciando parte conceitual e código. Mostrar código comprobatório & execução (RODANDO) de algo que evidencie padrões e estilos arquiteturais.

Apresentação (para a professora) conferindo reflexões sobre reutilização de software no escopo da aplicação, com: (i) rastro claro aos membros participantes (MOSTRAR QUADRO DE PARTICIPAÇÕES & COMMIITS); (ii) justificativas & senso crítico sobre reutilização de software, e (iv) comentários gerais sobre o trabalho em equipe. Tempo da Apresentação: +/- 7min. Recomendação: Apresentar diretamente via Wiki ou GitPages do Projeto. Baixar os conteúdos com antecedência, evitando problemas de internet no momento de exposição nas Dinâmicas de Avaliação. Mostrar rodando.

A Wiki ou GitPages do Projeto deve conter um tópico dedicado ao Módulo Reutilização de Software, com exemplo de reutilização de software (parte conceitual & código), histórico de versões, referências, e demais detalhamentos gerados pela equipe nesse escopo.

Demais orientações disponíveis nas Diretrizes (vide Aprender3). -->


## Atomic Design

(explicar a decisão)
(exemplos)

## Solução flexível e extensível

➡️ React:

Componentes React são extensíveis via:

Props (pontos de personalização).

Composição (componentes dentro de outros).

Context API ou hooks personalizados.

## HotsSpots e FrozenSpots

➡️ React:

Conceito do PDF	Exemplo em React
Hot-Spots	Props como children, onClick, style.
Frozen-Spots	Estrutura interna do componente, layout fixo, regras internas.

## Composite Pattern
## Higher-Order Components (HOCs)

### ProtectedRoute

**ProtectedRoute** é um componente funcional que protege as rotas com o foco em permitir somente usuários autenticados e autorizados possam acessar determinadas seções da aplicação.

![ProtectedRoute](../_media/protectedroute.jpeg)


### Objetivo

Este componente encapsula lógica de controle de acesso baseada em dois críterios princípais:

 - **1.** Autenticação: O usuário precisa estar logado (não pode ser null) .

 - **2.** Autorização: O usuário precisa ter um **role** (papel) incluindo na lista de **roles** permitidos (Aluno/Professor).

 É necessário que essas condições sejam aceitas porque se qualquer uma falhar, o usuário é redirecionado para:
 - **/login** **->** caso não esteja autenticado.
 - **/unauthorized** **->** se estiver autenticado, mas sem permissão.

### Props

| Prop  | Tipo       | Descrição |
|-------|------------|-----------|
| roles | `string[]` | Lista de papéis autorizados a acessar o conteúdo protegido. |

### Funcionamento Interno

Hook **useAuth():** Recupera o objeto user atual (ex:{id, name, role}). Esse estado pode assumir:

- **undefined:** Ainda carregando (evita renderizar antes de concluir).

- **null:** Não autenticado.

- **objeto válido:** usuário logado.

Hook **useNavigate():** usado para redirecionar via React Router.

Efeito colateral (**useEffect**): monitora user, roles e navigate. Assim que o user estiver definido, o componente valida seu acesso e redireciona se necessário.

Controle de renderização inicial: se user for undefined, retorna null para evitar flicker ou renderização prematura da interface antes de saber se há um usuário logado.


O **ProtectedRoute** é um componente de ordem superior, apesar de não ser um **HOC** no formato clássico ele adiciona a lógica de controle de acesso a outras rotas e componentes, é reutilizável, pois basta passar uma lista de roles autorizadas. Encapsula comportamento de redirecionamento baseado em autenticação autorização.

## Hooks

## Caixa Cinza

## Instanciação Composição

## Empacotamento

- pacotes npm
- builder do vite

## Reutilizável, Extensível, Seguro, Direcionado ao Domínio

Reutilizável: Props, hooks, composição.

Extensível: Possibilidade de sobrescrever estilos ou comportamentos.

Seguro: Encapsulamento evita que o usuário do componente quebre sua estrutura.

Direcionado: Bibliotecas de componentes específicos para o domínio (ex.: barra de play).



| Versão |    Data    |        Descrição         |    Autor(es)    |  Revisor(es)     |  Detalhes da Revisão  |  
| :----: | :--------: | :----------------------: | :-------------: | :----------------| :---------------------|
|  1.0   | 03/07/2025 |   Criação do documento   | Gustavo Costa |      ||
|  1.1   | 03/07/2025 |   Adição documentação HOC   | Iderlan J. |      ||